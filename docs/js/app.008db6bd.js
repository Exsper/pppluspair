(function(){var e={3170:function(e,t,a){const s=a(6265);class l{constructor(e){this.username=e.UserName,this.accuracy=e.AccuracyTotal,this.aimFlow=e.FlowAimTotal,this.aimJump=e.JumpAimTotal,this.precision=e.PrecisionTotal,this.speed=e.SpeedTotal,this.stamina=e.StaminaTotal}getValues(){return[this.aimJump,this.aimFlow,this.accuracy,this.stamina,this.speed,this.precision]}toStoreObj(){return{[this.username]:{accuracy:this.accuracy,aimFlow:this.aimFlow,aimJump:this.aimJump,precision:this.precision,speed:this.speed,stamina:this.stamina,date:(new Date).toLocaleString()}}}getStdValues(){let e=1.92*this.aimJump**.953,t=69.7*this.aimFlow**.596,a=19.8*this.precision**.8,s=.588*this.speed**1.175,l=3.06*this.stamina**.993,n=14.1*this.accuracy**.769;return[e,t,n,l,s,a]}getDrawData(){let e=this.getStdValues();return e=[e[2],e[1],e[0],e[5],e[4],e[3],e[2]],e.push(e[0]),{type:"scatterpolar",r:e,theta:["Accuracy","Flow","Jump","Precision","Speed","Stamina","Accuracy"],fill:"toself",name:this.username}}getNorValues(){let e=this.getStdValues(),t=e.reduce(((e,t)=>e+t**2),0)**.5;return e.map((e=>e/t))}compareTo(e){let t=e.getNorValues(),a=this.getNorValues().reduce(((e,a,s)=>e+a*t[s]),0)**.5;return(10*(1-2*Math.acos(a)/Math.PI))**2}}class n{constructor(e){this.base=e?.base??"https://syrin.me/pp+/api"}async getUser(e){let t;try{t=await s.get(`${this.base}/user/${e}/`)}catch(a){throw"连接pp+网站失败，请过段时间重试或手动输入数据"}if(!t||!t?.data)throw"获取数据失败，请过段时间重试或手动输入数据";if(!t?.data?.user_data)throw"查不到玩家 "+e+" 的信息";return new l(t?.data?.user_data)}}e.exports.e=l,e.exports.V=n},6697:function(e,t,a){"use strict";var s=a(9242),l=a(3396);function n(e,t,a,s,n,r){const i=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(i)}var r={name:"App"},i=a(89);const o=(0,i.Z)(r,[["render",n]]);var u=o,m=a(678),c=(a(5135),a(6909),a(924),a(9202),a(1157),a(4134)),d=a(9455),p=a(8578),f=a(8185),h=a(7139);const y=e=>((0,l.dD)("data-v-2922adea"),e=e(),(0,l.Cn)(),e),w={class:"common-layout"},g=y((()=>(0,l._)("br",null,null,-1))),b=(0,l.Uk)("比一比"),_=y((()=>(0,l._)("br",null,null,-1))),v=["hidden"],W={class:"pairMsg"},V=y((()=>(0,l._)("div",{id:"graph"},null,-1)));function P(e,t,a,s,n,r){const i=(0,l.up)("LeftPlayerTable"),o=f.Dv,u=(0,l.up)("RightPlayerTable"),m=p.dq,y=d.mi,P=c.b2,j=c.G4;return(0,l.wg)(),(0,l.iD)("div",w,[(0,l.Wm)(j,null,{default:(0,l.w5)((()=>[(0,l.Wm)(P,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{justify:"center",gutter:24},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{span:11,style:{"min-width":"340px","padding-bottom":"12px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{ref:"leftplayer"},null,512)])),_:1}),(0,l.Wm)(o,{span:11,style:{"min-width":"340px","padding-bottom":"12px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{ref:"rightplayer"},null,512)])),_:1})])),_:1}),g,(0,l.Wm)(m,{justify:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{type:"primary",onClick:r.draw},{default:(0,l.w5)((()=>[b])),_:1},8,["onClick"])])),_:1}),_,(0,l.Wm)(m,{justify:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l._)("span",{hidden:""===n.msg},"两人的相似程度为",8,v)])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l._)("span",W,(0,h.zw)(n.msg),1)])),_:1})])),_:1}),(0,l.Wm)(m,{justify:"center"},{default:(0,l.w5)((()=>[V])),_:1})])),_:1})])),_:1})])}a(1840),a(6954),a(4625),a(2896);var j=a(837),S=a(8133),D=a(7729);const I=(0,l.Uk)("获取pp+数据"),T=(0,l._)("br",null,null,-1),k=(0,l.Uk)("保存该玩家数据"),O=(0,l.Uk)("删除该玩家数据");function x(e,t,a,s,n,r){const i=D.j7,o=j.nH,u=f.Dv,m=d.mi,c=p.dq,y=S.EZ,w=j.ly;return(0,l.wg)(),(0,l.j4)(w,{"label-width":"100px",style:{"max-width":"460px","min-width":"320px",margin:"auto"}},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{span:16},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{label:"玩家名或uid"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),"value-key":"username","fetch-suggestions":r.querySearch,onSelect:r.handleSelect},null,8,["modelValue","fetch-suggestions","onSelect"])])),_:1})])),_:1}),(0,l.Wm)(u,{span:4},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{type:"primary",onClick:r.getData,disabled:n.buttonDisabled},{default:(0,l.w5)((()=>[I])),_:1},8,["onClick","disabled"])])),_:1})])),_:1}),(0,l._)("span",null,(0,h.zw)(n.msg),1),T,(0,l.Wm)(o,{label:"Jump"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:n.jump,"onUpdate:modelValue":t[1]||(t[1]=e=>n.jump=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(o,{label:"Flow"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:n.flow,"onUpdate:modelValue":t[2]||(t[2]=e=>n.flow=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(o,{label:"Precision"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:n.precision,"onUpdate:modelValue":t[3]||(t[3]=e=>n.precision=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(o,{label:"Speed"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:n.speed,"onUpdate:modelValue":t[4]||(t[4]=e=>n.speed=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(o,{label:"Stamina"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:n.stamina,"onUpdate:modelValue":t[5]||(t[5]=e=>n.stamina=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(o,{label:"Accuracy"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:n.accuracy,"onUpdate:modelValue":t[6]||(t[6]=e=>n.accuracy=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{span:4}),(0,l.Wm)(u,{span:10},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{type:"primary",onClick:r.saveData},{default:(0,l.w5)((()=>[k])),_:1},8,["onClick"])])),_:1}),(0,l.Wm)(u,{span:10},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{type:"primary",onClick:r.delData},{default:(0,l.w5)((()=>[O])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}var C=a(3170),U=a(5823),J=(a(6969),{name:"PlayerData",data(){return{buttonDisabled:!1,msg:" ",username:"",jump:0,flow:0,precision:0,speed:0,stamina:0,accuracy:0}},methods:{async getData(){try{this.msg=" ",this.buttonDisabled=!0;let e=new C.V,t=await e.getUser(this.username);this.username=t.username,[this.jump,this.flow,this.accuracy,this.stamina,this.speed,this.precision]=t.getValues(),U.z8.success("获取玩家 "+this.username+" 数据成功"),this.buttonDisabled=!1}catch(e){this.msg=e,U.z8.error(e),this.buttonDisabled=!1}},toPPP(){return new C.e({UserName:this.username,AccuracyTotal:this.accuracy,FlowAimTotal:this.flow,JumpAimTotal:this.jump,PrecisionTotal:this.precision,SpeedTotal:this.speed,StaminaTotal:this.stamina})},saveData(){this.$store.commit("addPlayerInfo",this.toPPP().toStoreObj()),U.z8.success("添加成功")},delData(){this.$store.commit("delPlayerInfo",this.username),U.z8.success("删除成功")},querySearch(e,t){let a=this.$store.getters.playerNameList;const s=e?a.filter((t=>0===t.username.toLowerCase().indexOf(e.toLowerCase()))):a;t(s)},handleSelect(e){let t=this.$store.getters.getplayerInfo(e);[this.jump,this.flow,this.accuracy,this.stamina,this.speed,this.precision,this.msg]=[t.aimJump,t.aimFlow,t.accuracy,t.stamina,t.speed,t.precision,"数据保存于： "+t.date]}}});const F=(0,i.Z)(J,[["render",x]]);var A=F,N={name:"HomeView",components:{LeftPlayerTable:A,RightPlayerTable:A},setup(){if(!window.Plotly){let e=document.createElement("script");e.setAttribute("src","https://cdn.staticfile.org/plotly.js/1.58.5/plotly.min.js"),document.getElementsByTagName("head")[0].appendChild(e)}},data(){return{msg:""}},methods:{draw(){let e=this.$refs.leftplayer.toPPP(),t=this.$refs.rightplayer.toPPP(),a={polar:{radialaxis:{visible:!1}}};window.Plotly.newPlot("graph",[e.getDrawData(),t.getDrawData()],a),this.msg=e.compareTo(t)?.toFixed(2)+"%"}}};const L=(0,i.Z)(N,[["render",P],["__scopeId","data-v-2922adea"]]);var $=L;const z=[{path:"/",name:"home",component:$}],M=(0,m.p7)({history:(0,m.r5)(),routes:z});var q=M,E=a(65),Z=(0,E.MT)({state:{playerInfos:JSON.parse(localStorage.getItem("playerInfos"))??{}},getters:{playerNameList:e=>Object.keys(e.playerInfos).map((e=>({username:e}))),getplayerInfo:e=>t=>e.playerInfos[t.username]},mutations:{addPlayerInfo(e,t){Object.assign(e.playerInfos,t),localStorage.setItem("playerInfos",JSON.stringify(e.playerInfos))},delPlayerInfo(e,t){let a=Object.keys(e.playerInfos).find((e=>e.toLowerCase()===t.toLowerCase()));delete e.playerInfos[a],localStorage.setItem("playerInfos",JSON.stringify(e.playerInfos))}},actions:{},modules:{}});(0,s.ri)(u).use(Z).use(q).mount("#app")}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,l,n){if(!s){var r=1/0;for(m=0;m<e.length;m++){s=e[m][0],l=e[m][1],n=e[m][2];for(var i=!0,o=0;o<s.length;o++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[o])}))?s.splice(o--,1):(i=!1,n<r&&(r=n));if(i){e.splice(m--,1);var u=l();void 0!==u&&(t=u)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[s,l,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,n,r=s[0],i=s[1],o=s[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(o)var m=o(a)}for(t&&t(s);u<r.length;u++)n=r[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(m)},s=self["webpackChunkpppluspair"]=self["webpackChunkpppluspair"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(6697)}));s=a.O(s)})();