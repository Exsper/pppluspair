(function(){var e={3170:function(e,t,a){const s=a(6265);class r{constructor(e){this.username=e.UserName,this.accuracy=e.AccuracyTotal,this.aimFlow=e.FlowAimTotal,this.aimJump=e.JumpAimTotal,this.precision=e.PrecisionTotal,this.speed=e.SpeedTotal,this.stamina=e.StaminaTotal}getValues(){return[this.aimJump,this.aimFlow,this.accuracy,this.stamina,this.speed,this.precision]}toStoreObj(){return{[this.username]:{accuracy:this.accuracy,aimFlow:this.aimFlow,aimJump:this.aimJump,precision:this.precision,speed:this.speed,stamina:this.stamina,date:(new Date).toLocaleString()}}}getStdValues(e=0){let t=1.92*this.aimJump**.953,a=69.7*this.aimFlow**.596,s=19.8*this.precision**.8,r=.588*this.speed**1.175,n=3.06*this.stamina**.993,i=14.1*this.accuracy**.769;switch(e){case 1:return[s,t,a,i,n,r];case 2:return[r,s,t,a,i,n];case 3:return[n,r,s,t,a,i];case 4:return[i,n,r,s,t,a];case 5:return[a,i,n,r,s,t];default:return[t,a,i,n,r,s]}}getDrawData(e=0){e%=6;let t=this.getStdValues(e);return t=[t[2],t[1],t[0],t[5],t[4],t[3],t[2]],t.push(t[0]),{type:"scatterpolar",r:t,theta:["Accuracy","Flow","Jump","Precision","Speed","Stamina","Accuracy"],fill:"toself",name:0===e?this.username:this.username+" (顺时针旋转"+e+"格)"}}getNorValues(e){let t=this.getStdValues(e),a=t.reduce(((e,t)=>e+t**2),0)**.5;return t.map((e=>e/a))}compareTo(e,t=0,a=0){let s=e.getNorValues(a),r=this.getNorValues(t).reduce(((e,t,a)=>e+t*s[a]),0)**.5;return(10*(1-2*Math.acos(r)/Math.PI))**2}}class n{constructor(e){this.base=e?.base??"https://syrin.me/pp+/api"}async getUser(e){let t;try{t=await s.get(`${this.base}/user/${e}/`)}catch(a){throw"连接pp+网站失败，请过段时间重试或手动输入数据"}if(!t||!t?.data)throw"获取数据失败，请过段时间重试或手动输入数据";if(!t?.data?.user_data)throw"查不到玩家 "+e+" 的信息";return new r(t?.data?.user_data)}}e.exports.e=r,e.exports.V=n},405:function(e,t,a){"use strict";var s=a(9242),r=a(3396);function n(e,t,a,s,n,i){const l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(l)}var i={name:"App"},l=a(89);const o=(0,l.Z)(i,[["render",n]]);var u=o,c=a(678),m=(a(5135),a(6909),a(924),a(9202),a(1157),a(4134)),p=a(9455),d=a(8578),h=a(8185),f=a(7139);const w=e=>((0,r.dD)("data-v-52e662a2"),e=e(),(0,r.Cn)(),e),y={class:"common-layout"},g=w((()=>(0,r._)("br",null,null,-1))),b=(0,r.Uk)("比一比"),_=(0,r.Uk)("左边顺时针旋转"),W=(0,r.Uk)("右边顺时针旋转"),v=w((()=>(0,r._)("br",null,null,-1))),C=["hidden"],V={class:"pairMsg"},P=w((()=>(0,r._)("div",{id:"graph"},null,-1)));function j(e,t,a,s,n,i){const l=(0,r.up)("LeftPlayerTable"),o=h.Dv,u=(0,r.up)("RightPlayerTable"),c=d.dq,w=p.mi,j=m.b2,k=m.G4;return(0,r.wg)(),(0,r.iD)("div",y,[(0,r.Wm)(k,null,{default:(0,r.w5)((()=>[(0,r.Wm)(j,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,{justify:"center",gutter:24},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{span:11,style:{"min-width":"340px","padding-bottom":"12px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{ref:"leftplayer"},null,512)])),_:1}),(0,r.Wm)(o,{span:11,style:{"min-width":"340px","padding-bottom":"12px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{ref:"rightplayer"},null,512)])),_:1})])),_:1}),g,(0,r.Wm)(c,{justify:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{span:2},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{type:"primary",onClick:i.newDraw},{default:(0,r.w5)((()=>[b])),_:1},8,["onClick"])])),_:1}),(0,r.Wm)(o,{span:0}),(0,r.Wm)(w,{type:"primary",onClick:i.rotateLeft},{default:(0,r.w5)((()=>[_])),_:1},8,["onClick"]),(0,r.Wm)(o,{span:0}),(0,r.Wm)(w,{type:"primary",onClick:i.rotateRight},{default:(0,r.w5)((()=>[W])),_:1},8,["onClick"])])),_:1}),v,(0,r.Wm)(c,{justify:"center"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[(0,r._)("span",{hidden:""===n.msg},"两人的相似程度为",8,C)])),_:1}),(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[(0,r._)("span",V,(0,f.zw)(n.msg),1)])),_:1})])),_:1}),(0,r.Wm)(c,{justify:"center"},{default:(0,r.w5)((()=>[P])),_:1})])),_:1})])),_:1})])}a(1840),a(6954),a(4625),a(2896);var k=a(837),S=a(8133),D=a(7729);const I=(0,r.Uk)("获取pp+数据"),T=(0,r._)("br",null,null,-1),O=(0,r.Uk)("保存该玩家数据"),x=(0,r.Uk)("删除该玩家数据");function L(e,t,a,s,n,i){const l=D.j7,o=k.nH,u=h.Dv,c=p.mi,m=d.dq,w=S.EZ,y=k.ly;return(0,r.wg)(),(0,r.j4)(y,{"label-width":"100px",style:{"max-width":"460px","min-width":"320px",margin:"auto"}},{default:(0,r.w5)((()=>[(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:16},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{label:"玩家名或uid"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),"value-key":"username","fetch-suggestions":i.querySearch,onSelect:i.handleSelect},null,8,["modelValue","fetch-suggestions","onSelect"])])),_:1})])),_:1}),(0,r.Wm)(u,{span:4},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{type:"primary",onClick:i.getData,disabled:n.buttonDisabled},{default:(0,r.w5)((()=>[I])),_:1},8,["onClick","disabled"])])),_:1})])),_:1}),(0,r._)("span",null,(0,f.zw)(n.msg),1),T,(0,r.Wm)(o,{label:"Jump"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{modelValue:n.jump,"onUpdate:modelValue":t[1]||(t[1]=e=>n.jump=e)},null,8,["modelValue"])])),_:1}),(0,r.Wm)(o,{label:"Flow"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{modelValue:n.flow,"onUpdate:modelValue":t[2]||(t[2]=e=>n.flow=e)},null,8,["modelValue"])])),_:1}),(0,r.Wm)(o,{label:"Precision"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{modelValue:n.precision,"onUpdate:modelValue":t[3]||(t[3]=e=>n.precision=e)},null,8,["modelValue"])])),_:1}),(0,r.Wm)(o,{label:"Speed"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{modelValue:n.speed,"onUpdate:modelValue":t[4]||(t[4]=e=>n.speed=e)},null,8,["modelValue"])])),_:1}),(0,r.Wm)(o,{label:"Stamina"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{modelValue:n.stamina,"onUpdate:modelValue":t[5]||(t[5]=e=>n.stamina=e)},null,8,["modelValue"])])),_:1}),(0,r.Wm)(o,{label:"Accuracy"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{modelValue:n.accuracy,"onUpdate:modelValue":t[6]||(t[6]=e=>n.accuracy=e)},null,8,["modelValue"])])),_:1}),(0,r.Wm)(m,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:4}),(0,r.Wm)(u,{span:10},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{type:"primary",onClick:i.saveData},{default:(0,r.w5)((()=>[O])),_:1},8,["onClick"])])),_:1}),(0,r.Wm)(u,{span:10},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{type:"primary",onClick:i.delData},{default:(0,r.w5)((()=>[x])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}var U=a(3170),J=a(5823),F=(a(6969),{name:"PlayerData",data(){return{buttonDisabled:!1,msg:" ",username:"",jump:0,flow:0,precision:0,speed:0,stamina:0,accuracy:0}},methods:{async getData(){try{this.msg=" ",this.buttonDisabled=!0,[this.jump,this.flow,this.accuracy,this.stamina,this.speed,this.precision]=[0,0,0,0,0,0];let e=new U.V,t=await e.getUser(this.username);this.username=t.username,[this.jump,this.flow,this.accuracy,this.stamina,this.speed,this.precision]=t.getValues(),J.z8.success("获取玩家 "+this.username+" 数据成功"),this.buttonDisabled=!1}catch(e){this.msg=e,J.z8.error(e),this.buttonDisabled=!1}},toPPP(){return new U.e({UserName:this.username,AccuracyTotal:this.accuracy,FlowAimTotal:this.flow,JumpAimTotal:this.jump,PrecisionTotal:this.precision,SpeedTotal:this.speed,StaminaTotal:this.stamina})},saveData(){this.$store.commit("addPlayerInfo",this.toPPP().toStoreObj()),J.z8.success("添加成功")},delData(){this.$store.commit("delPlayerInfo",this.username),J.z8.success("删除成功")},querySearch(e,t){let a=this.$store.getters.playerNameList;const s=e?a.filter((t=>0===t.username.toLowerCase().indexOf(e.toLowerCase()))):a;t(s)},handleSelect(e){let t=this.$store.getters.getplayerInfo(e);[this.jump,this.flow,this.accuracy,this.stamina,this.speed,this.precision,this.msg]=[t.aimJump,t.aimFlow,t.accuracy,t.stamina,t.speed,t.precision,"数据保存于： "+t.date]}}});const A=(0,l.Z)(F,[["render",L]]);var N=A,R={name:"HomeView",components:{LeftPlayerTable:N,RightPlayerTable:N},setup(){if(!window.Plotly){let e=document.createElement("script");e.setAttribute("src","https://cdn.staticfile.org/plotly.js/1.58.5/plotly.min.js"),document.getElementsByTagName("head")[0].appendChild(e)}},data(){return{msg:"",rotateLeftCount:0,rotateRightCount:0}},methods:{rotateLeft(){this.rotateLeftCount+=1,this.rotateLeftCount%=6,this.draw()},rotateRight(){this.rotateRightCount+=1,this.rotateRightCount%=6,this.draw()},newDraw(){this.rotateRightCount=0,this.rotateLeftCount=0,this.draw()},draw(){let e=this.$refs.leftplayer.toPPP(),t=this.$refs.rightplayer.toPPP(),a={polar:{radialaxis:{visible:!1}}};window.Plotly.newPlot("graph",[e.getDrawData(this.rotateLeftCount),t.getDrawData(this.rotateRightCount)],a),this.msg=e.compareTo(t,this.rotateLeftCount,this.rotateRightCount)?.toFixed(2)+"%"}}};const $=(0,l.Z)(R,[["render",j],["__scopeId","data-v-52e662a2"]]);var z=$;const M=[{path:"/",name:"home",component:z}],q=(0,c.p7)({history:(0,c.r5)(),routes:M});var E=q,Z=a(65),H=(0,Z.MT)({state:{playerInfos:JSON.parse(localStorage.getItem("playerInfos"))??{}},getters:{playerNameList:e=>Object.keys(e.playerInfos).map((e=>({username:e}))),getplayerInfo:e=>t=>e.playerInfos[t.username]},mutations:{addPlayerInfo(e,t){Object.assign(e.playerInfos,t),localStorage.setItem("playerInfos",JSON.stringify(e.playerInfos))},delPlayerInfo(e,t){let a=Object.keys(e.playerInfos).find((e=>e.toLowerCase()===t.toLowerCase()));delete e.playerInfos[a],localStorage.setItem("playerInfos",JSON.stringify(e.playerInfos))}},actions:{},modules:{}});(0,s.ri)(u).use(H).use(E).mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,n){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],n=e[c][2];for(var l=!0,o=0;o<s.length;o++)(!1&n||i>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[o])}))?s.splice(o--,1):(l=!1,n<i&&(i=n));if(l){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,r,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,n,i=s[0],l=s[1],o=s[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(o)var c=o(a)}for(t&&t(s);u<i.length;u++)n=i[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},s=self["webpackChunkpppluspair"]=self["webpackChunkpppluspair"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(405)}));s=a.O(s)})();